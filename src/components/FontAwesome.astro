---
// Font Awesome Pro Integration Component - Professional CSS Class Implementation
export interface Props {
  icon: string;
  style?: 'solid' | 'regular' | 'light' | 'duotone' | 'brands';
  size?: 'xs' | 'sm' | 'lg' | 'xl' | '2xl' | '3xl' | '4xl' | '5xl' | '6xl' | '7xl' | '8xl' | '9xl' | '10xl';
  class?: string;
  color?: string;
  gradient?: 'peaceful-blue' | 'peaceful-green' | 'peaceful-yellow' | 'peaceful-purple' | 'peaceful-orange' | 'peaceful-red';
}

const { 
  icon, 
  style = 'solid', 
  size = 'lg', 
  class: className = '',
  color,
  gradient
} = Astro.props;

// Map Font Awesome styles to CSS classes
const styleMap = {
  solid: 'fas',
  regular: 'far',
  light: 'fal',
  duotone: 'fad',
  brands: 'fab'
};

// Build icon class
let iconClass = `${styleMap[style]} fa-${icon} fa-${size}`;

// Add gradient class if specified
if (gradient) {
  iconClass += ` ${gradient}`;
}

// Add custom class
if (className) {
  iconClass += ` ${className}`;
}

iconClass = iconClass.trim();
---

<i class={iconClass} style={color ? `color: ${color}` : ''}></i>

<style>
  /* Font Awesome Pro Duotone Styles */
  .fa-duotone {
    --fa-secondary-opacity: 0.4;
    --fa-primary-color: currentColor;
    --fa-secondary-color: currentColor;
  }
  
  /* Ensure icons inherit text color by default */
  i[class*="fa-"] {
    color: inherit;
  }
  
  /* Peaceful gradient colors for icons */
  .peaceful-blue {
    color: var(--crayola-blue);
    background: linear-gradient(135deg, var(--crayola-blue), var(--peaceful-blue));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .peaceful-green {
    color: var(--crayola-green);
    background: linear-gradient(135deg, var(--crayola-green), var(--peaceful-green));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .peaceful-yellow {
    color: var(--crayola-yellow);
    background: linear-gradient(135deg, var(--crayola-yellow), var(--peaceful-yellow));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .peaceful-purple {
    color: var(--crayola-purple);
    background: linear-gradient(135deg, var(--crayola-purple), var(--peaceful-purple));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .peaceful-orange {
    color: var(--crayola-orange);
    background: linear-gradient(135deg, var(--crayola-orange), var(--peaceful-orange));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  .peaceful-red {
    color: var(--crayola-red);
    background: linear-gradient(135deg, var(--crayola-red), var(--peaceful-red));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }
  
  /* Fallback for unsupported browsers */
  @supports not (-webkit-background-clip: text) {
    .peaceful-blue { color: var(--crayola-blue); }
    .peaceful-green { color: var(--crayola-green); }
    .peaceful-yellow { color: var(--crayola-yellow); }
    .peaceful-purple { color: var(--crayola-purple); }
    .peaceful-orange { color: var(--crayola-orange); }
    .peaceful-red { color: var(--crayola-red); }
  }
</style>